{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport { bus } from \"@/bus\";\nexport default {\n  name: \"my-note\",\n  data: function data() {\n    return {\n      menuname: \"\",\n      tableData: [],\n      totalcount: 1,\n      curpage: 1,\n      menuId: 0,\n      title: \"\"\n    };\n  },\n  computed: {},\n  methods: {\n    gettext: function gettext(id) {\n      this.$router.push({\n        path: \"/center/content?Id=\" + this.$route.query.Id + \"&pId=\" + this.$route.query.pId + \"&textId=\" + id\n      });\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      var _this = this;\n\n      this.curpage = val;\n      console.log(this.curpage);\n      axios(\"http://cybwmy.top:8082/menu/blogs/\" + this.menuId + \"?currentPage=\" + this.curpage).then(function (res) {\n        console.log(res);\n        _this.tableData = res.data.object.object;\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    // var storage = window.localStorage;\n    // this.menuname=storage.getItem('menu')\n    // this.menuId = storage.getItem(\"menuId\");\n    // this.tableData = JSON.parse(storage.getItem(\"tabledata\"));\n    // bus.$on(\"menuname\", (data) => {\n    //   this.menuname = data;\n    //   storage.setItem(\"menu\", this.menuname);\n    // }),\n    bus.$on(\"table\", function (data) {\n      _this2.tableData = data; // storage.setItem(\"tabledata\", JSON.stringify(this.tableData));\n    }), bus.$on(\"total\", function (data) {\n      _this2.totalcount = data;\n    });\n    bus.$on(\"menuId\", function (data) {\n      _this2.menuId = data;\n      console.log(\"menuid改变为:\", _this2.menuId); // storage.setItem(\"menuId\", this.menuId);\n    });\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AAEA;EACAA,eADA;EAEAC,IAFA,kBAEA;IACA;MACAC,YADA;MAEAC,aAFA;MAGAC,aAHA;MAIAC,UAJA;MAKAC,SALA;MAMAC;IANA;EAQA,CAXA;EAYAC,YAZA;EAaAC;IACAC,OADA,mBACAC,EADA,EACA;MACA;QACAC;MADA;IAGA,CALA;IAMAC,mBANA,+BAMAC,GANA,EAMA;MAAA;;MACA;MACAC;MACAC,MACA,uCACA,WADA,GAEA,eAFA,GAGA,YAJA,EAKAC,IALA,CAKA;QACAF;QACA;MACA,CARA;IASA;EAlBA,CAbA;EAiCAG,OAjCA,qBAiCA;IAAA;;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACAC;MACA,wBADA,CAEA;IACA,CAHA,GAIAA;MACA;IACA,CAFA,CAJA;IAOAA;MACA;MACAJ,yCAFA,CAGA;IACA,CAJA;EAKA;AAvDA","names":["name","data","menuname","tableData","totalcount","curpage","menuId","title","computed","methods","gettext","id","path","handleCurrentChange","val","console","axios","then","mounted","bus"],"sourceRoot":"src/components/commons","sources":["note.vue"],"sourcesContent":["<template>\n  <div class=\"right\">\n    <el-table :data=\"tableData\" stripe style=\"width: 100%\">\n      <el-table-column prop=\"notice\" :label=\"menuname\" width=\"900\">\n        <template slot-scope=\"scope\">\n          <a target=\"_self\" class=\"buttonText\" @click=\"gettext(scope.row.id)\">\n            {{\n            scope.row.title\n          }}\n          \n          </a>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"block\">\n      <el-pagination\n        layout=\"prev, pager, next\"\n        :size=\"3\"\n        :total=\"totalcount\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"curpage\"\n      >\n      </el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { bus } from \"@/bus\";\n\nexport default {\n  name: \"my-note\",\n  data() {\n    return {\n      menuname: \"\",\n      tableData: [],\n      totalcount: 1,\n      curpage: 1,\n      menuId: 0,\n      title: \"\",\n    };\n  },\n  computed: {},\n  methods: {\n    gettext(id) {\n      this.$router.push({\n        path: \"/center/content?Id=\" + this.$route.query.Id + \"&pId=\" + this.$route.query.pId + \"&textId=\" + id,\n      });\n    },\n    handleCurrentChange(val) {\n      this.curpage = val;\n      console.log(this.curpage);\n      axios(\n        \"http://cybwmy.top:8082/menu/blogs/\" +\n          this.menuId +\n          \"?currentPage=\" +\n          this.curpage\n      ).then((res) => {\n        console.log(res);\n        this.tableData = res.data.object.object;\n      });\n    },\n  },\n  mounted() {\n    // var storage = window.localStorage;\n    // this.menuname=storage.getItem('menu')\n    // this.menuId = storage.getItem(\"menuId\");\n    // this.tableData = JSON.parse(storage.getItem(\"tabledata\"));\n\n    // bus.$on(\"menuname\", (data) => {\n    //   this.menuname = data;\n    //   storage.setItem(\"menu\", this.menuname);\n    // }),\n      bus.$on(\"table\", (data) => {\n        this.tableData = data;\n        // storage.setItem(\"tabledata\", JSON.stringify(this.tableData));\n      }),\n      bus.$on(\"total\", (data) => {\n        this.totalcount = data;\n      });\n    bus.$on(\"menuId\", (data) => {\n      this.menuId = data;\n      console.log(\"menuid改变为:\", this.menuId);\n      // storage.setItem(\"menuId\", this.menuId);\n    });\n  },\n};\n</script>\n\n<style></style>\n"]},"metadata":{},"sourceType":"module"}