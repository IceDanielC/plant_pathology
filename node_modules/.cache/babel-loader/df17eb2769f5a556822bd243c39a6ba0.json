{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport { bus } from '@/bus';\nvar storage = window.localStorage;\nexport default {\n  name: \"my-context\",\n  data: function data() {\n    return {\n      textid: 1,\n      data: [],\n      title: '',\n      context: ''\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.textid = storage.getItem('textid');\n    bus.$on('firstid', function (data) {\n      _this.textid = data;\n      storage.setItem('textid', _this.textid);\n      console.log(_this.textid);\n      axios({\n        url: 'http://cybwmy.top:8082/blog/detail/' + data\n      }).then(function (res) {\n        _this.data = res.data.object;\n        _this.title = res.data.object.title;\n        _this.context = res.data.object.context;\n      });\n      console.log(\"第一次获取成功了\");\n    });\n    this.$nextTick(function () {\n      bus.$on('textid', function (data) {\n        _this.textid = data;\n        storage.setItem('textid', _this.textid);\n        console.log(_this.textid);\n        axios({\n          url: 'http://cybwmy.top:8082/blog/detail/' + data\n        }).then(function (res) {\n          _this.data = res.data.object;\n          _this.title = res.data.object.title;\n          _this.context = res.data.object.context;\n        });\n        console.log(\"获取成功了\");\n      });\n    });\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    axios({\n      url: 'http://cybwmy.top:8082/blog/detail/' + this.textid\n    }).then(function (res) {\n      _this2.data = res.data.object;\n      _this2.title = res.data.object.title;\n      _this2.context = res.data.object.context;\n      console.log(\"执行了\");\n    });\n  }\n};","map":{"version":3,"mappings":";;;;;;;AAQA;AACA;AACA;AACA;EACAA,kBADA;EAEAC,IAFA,kBAEA;IACA;MACAC,SADA;MAEAD,QAFA;MAGAE,SAHA;MAIAC;IAJA;EAMA,CATA;EAUAC,OAVA,qBAUA;IAAA;;IACA;IACAC;MACA;MACAC;MACAC;MACAC;QAAAC;MAAA;QACA;QACA;QACA;MACA,CAJA;MAKAF;IACA,CAVA;IAWA;MACAF;QACA;QACAC;QACAC;QACAC;UAAAC;QAAA;UACA;UACA;UACA;QACA,CAJA;QAKAF;MACA,CAVA;IAWA,CAZA;EAaA,CApCA;EAqCAG,OArCA,qBAqCA;IAAA;;IACAF;MACAC;IADA,GAEAE,IAFA,CAEA;MACA;MACA;MACA;MACAJ;IACA,CAPA;EAQA;AA9CA","names":["name","data","textid","title","context","created","bus","storage","console","axios","url","mounted","then"],"sourceRoot":"src/components/commons","sources":["content.vue"],"sourcesContent":["<template>\n  <div class=\"right text\">\n    <div class=\"title\">{{title}}</div>\n    <div class=\"context\" v-html=\"context\"></div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport {bus} from '@/bus'\nvar storage = window.localStorage\nexport default {\n    name:\"my-context\",\n    data(){\n      return {\n        textid:1,\n        data:[],\n        title:'',\n        context:''\n      }\n    },\n    created(){\n      this.textid=storage.getItem('textid')\n      bus.$on('firstid',(data)=>{\n            this.textid=data\n            storage.setItem('textid', this.textid);\n            console.log(this.textid)\n            axios({url:'http://cybwmy.top:8082/blog/detail/'+data}).then(res=>{\n                        this.data=res.data.object\n                        this.title=res.data.object.title\n                        this.context=res.data.object.context\n                    })\n            console.log(\"第一次获取成功了\")\n          })\n      this.$nextTick(()=>{\n          bus.$on('textid',(data)=>{\n            this.textid=data\n            storage.setItem('textid', this.textid);\n            console.log(this.textid)\n            axios({url:'http://cybwmy.top:8082/blog/detail/'+data,}).then(res=>{\n                        this.data=res.data.object\n                        this.title=res.data.object.title\n                        this.context=res.data.object.context\n                    })\n            console.log(\"获取成功了\")\n          })\n          })\n    },\n    mounted(){\n      axios({\n                url:'http://cybwmy.top:8082/blog/detail/'+this.textid,\n                }).then(res=>{\n                    this.data=res.data.object\n                    this.title=res.data.object.title\n                    this.context=res.data.object.context\n                    console.log(\"执行了\")\n                })\n    }\n}\n</script>\n\n<style scoped>\n.context >>> p{\n  line-height: 28px;\n}\n.context >>> img{\n    width: 500px;\n    height: 300px;\n}\n.text{\n  width: 800px;\n  padding-bottom:1cm; \n}\n.title{\n  width: 100%;\n    text-align: center;\n    font-size: 40px;\n    height: 50px;\n    margin-bottom: 20px;\n}\n\n</style>"]},"metadata":{},"sourceType":"module"}