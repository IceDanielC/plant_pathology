{"ast":null,"code":"import \"core-js/modules/es.json.stringify.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport { bus } from '@/bus';\nexport default {\n  name: 'my-note',\n  data: function data() {\n    return {\n      menuname: '',\n      tableData: [],\n      totalcount: 1,\n      curpage: 1,\n      menuId: 0,\n      title: ''\n    };\n  },\n  computed: {},\n  methods: {\n    gettext: function gettext(id) {\n      // axios({\n      // url:'http://cyb.gz2vip.91tunnel.com/blog/detail/'+id,\n      // }).then(res=>{\n      //     this.data=res.data.object\n      // })\n      this.$router.push({\n        path: '/center/note?id=' + 1 + 'pid=' + 2 + \"textid=\" + id\n      }); // this.$nextTick(()=>{\n      // bus.$emit('firstid',id)\n      // })\n      //   bus.$emit('textid',id)\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      var _this = this;\n\n      this.curpage = val;\n      console.log(this.curpage);\n      axios('http://cybwmy.top:8082/menu/blogs/' + this.menuId + '?currentPage=' + this.curpage).then(function (res) {\n        console.log(res);\n        _this.tableData = res.data.object.object;\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    var storage = window.localStorage;\n    this.menuname = storage.getItem('menu');\n    this.menuId = storage.getItem('menuId');\n    this.tableData = JSON.parse(storage.getItem('tabledata'));\n    bus.$on('menuname', function (data) {\n      _this2.menuname = data;\n      storage.setItem('menu', _this2.menuname);\n    }), bus.$on('table', function (data) {\n      _this2.tableData = data;\n      storage.setItem('tabledata', JSON.stringify(_this2.tableData));\n    }), bus.$on('total', function (data) {\n      _this2.totalcount = data;\n    });\n    bus.$on('menuId', function (data) {\n      _this2.menuId = data;\n      console.log(\"menuid改变为:\", _this2.menuId);\n      storage.setItem('menuId', _this2.menuId);\n    });\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AAGA;EACAA,eADA;EAEAC,IAFA,kBAEA;IACA;MAAAC;MAAAC;MAAAC;MAAAC;MAAAC;MAAAC;IAAA;EACA,CAJA;EAKAC,YALA;EAOAC;IACAC,OADA,mBACAC,EADA,EACA;MACA;MACA;MACA;MACA;MACA;MACA;QAAAC;MAAA,GANA,CAQA;MACA;MACA;MACA;IACA,CAbA;IAcAC,mBAdA,+BAcAC,GAdA,EAeA;MAAA;;MACA;MACAC;MACAC;QACAD;QACA;MACA,CAHA;IAIA;EAtBA,CAPA;EA+BAE,OA/BA,qBA+BA;IAAA;;IACA;IACA;IACA;IACA;IAEAC;MACA;MACAC;IACA,CAHA,GAIAD;MACA;MACAC;IACA,CAHA,CAJA,EAQAD;MACA;IACA,CAFA,CARA;IAWAA;MACA;MACAH;MACAI;IACA,CAJA;EAKA;AArDA","names":["name","data","menuname","tableData","totalcount","curpage","menuId","title","computed","methods","gettext","id","path","handleCurrentChange","val","console","axios","mounted","bus","storage"],"sourceRoot":"src/components/commons","sources":["note.vue"],"sourcesContent":["<template>\n<div class=\"right\">\n  <el-table\n        :data=\"tableData\"\n        stripe\n        style=\"width: 100%\">\n        <el-table-column\n          prop=\"notice\"\n          :label=\"menuname\"\n          width=\"900\">\n            <template slot-scope=\"scope\">\n               <a target=\"_self\" class=\"buttonText\" @click=\"gettext(scope.row.id)\">{{scope.row.title}}</a>\n             </template>\n        </el-table-column>\n      </el-table>\n    <div class=\"block\">\n    <el-pagination\n      layout=\"prev, pager, next\"\n      :size=\"3\"\n      :total=\"totalcount\"\n      @current-change=\"handleCurrentChange\"\n      :current-page=\"curpage\" >\n    </el-pagination>\n    </div>\n</div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport {bus} from '@/bus'\n\n\nexport default {\n    name:'my-note',\n    data(){\n        return {menuname:'',tableData:[],totalcount:1,curpage:1,menuId:0,title:''}\n    },\n    computed:{\n    },\n    methods:{\n        gettext(id){\n                // axios({\n                // url:'http://cyb.gz2vip.91tunnel.com/blog/detail/'+id,\n                // }).then(res=>{\n                //     this.data=res.data.object\n                // })\n                this.$router.push({path:'/center/note?id='+1+'pid='+2+\"textid=\"+id})\n                \n                // this.$nextTick(()=>{\n                // bus.$emit('firstid',id)\n                // })\n                //   bus.$emit('textid',id)\n            },\n            handleCurrentChange(val)\n            {\n            this.curpage=val\n            console.log(this.curpage)\n            axios('http://cybwmy.top:8082/menu/blogs/'+this.menuId +'?currentPage='+ this.curpage).then(res=>{\n                console.log(res)\n                this.tableData=res.data.object.object\n                })\n            }\n    },\n    mounted(){\n        var storage = window.localStorage\n        this.menuname=storage.getItem('menu')\n        this.menuId=storage.getItem('menuId')\n        this.tableData=JSON.parse(storage.getItem('tabledata'))\n\n        bus.$on('menuname',(data)=>{\n            this.menuname=data\n            storage.setItem('menu',this.menuname)\n          }),\n          bus.$on('table',(data)=>{\n            this.tableData=data\n            storage.setItem('tabledata', JSON.stringify(this.tableData))\n          }),\n          bus.$on('total',(data)=>{\n            this.totalcount=data\n          })\n          bus.$on('menuId',(data)=>{\n            this.menuId=data\n            console.log(\"menuid改变为:\",this.menuId)\n            storage.setItem('menuId',this.menuId)\n          })\n    }\n}\n</script>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module"}