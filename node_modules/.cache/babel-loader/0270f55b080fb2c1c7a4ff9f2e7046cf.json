{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport { bus } from \"@/bus\";\nexport default {\n  name: \"my-center\",\n  data: function data() {\n    return {\n      data2: [],\n      note: [],\n      fileid: 1,\n      curid: 1,\n      tableData: [],\n      name: \"\",\n      menuname: \"\",\n      totalcount: 1,\n      curpage: 1,\n      menuId: 0\n    };\n  },\n  components: {},\n  watch: {\n    // 利用watch方法检测路由变化：\n    $route: function $route(to) {\n      var _this = this;\n\n      // 拿到目标参数 to.query.id 去再次请求数据接口\n      bus.$on(\"menu\", function (data) {\n        console.log(\"fdsa\" + data[to.query.pId]);\n        _this.name = 123;\n        _this.data2 = data[to.query.pId];\n      });\n      console.log(\"dsafasdfgsafdsa\");\n      this.getid(to.query.Id);\n    }\n  },\n  methods: {\n    getid: function getid(val, nam) {\n      var _this2 = this;\n\n      axios.get(\"http://cybwmy.top:8082/menu/blogs/\" + val).then(function (res) {\n        console.log(res);\n        _this2.tableData = res.data.object.object;\n        _this2.totalcount = res.data.object.totalCount;\n\n        _this2.$nextTick(function () {\n          bus.$emit(\"table\", this.tableData);\n          bus.$emit(\"total\", this.totalcount);\n        });\n      });\n      this.menuname = nam;\n      this.menuId = val;\n      this.$nextTick(function () {\n        bus.$emit(\"menuname\", this.menuname);\n        bus.$emit(\"menuId\", this.menuId);\n      });\n    },\n    // gettext(id){\n    //     axios({\n    //     url:'http://cyb.gz2vip.91tunnel.com/blog/get/'+id,\n    //     }).then(res=>{\n    //         console.log(res)\n    //     })\n    // },\n    handleCurrentChange: function handleCurrentChange(val) {\n      var _this3 = this;\n\n      this.curpage = val;\n      console.log(this.curpage);\n      axios(\"http://cybwmy.top:8082.com/menu/blogs/\" + this.menuId + \"?currentPage=\" + this.curpage).then(function (res) {\n        console.log(res);\n        _this3.tableData = res.data.object.object;\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this4 = this;\n\n    this.getid(this.$route.query.Id);\n    bus.$on(\"menu\", function (data) {\n      console.log(\"fdsa\" + data);\n      _this4.name = 123;\n      _this4.data2 = data[_this4.$route.query.pId];\n    }); //var storage = window.localStorage\n    //this.data2=JSON.parse(storage.getItem('mydata'))\n    //this.name=storage.getItem('name')\n    // bus.$on('data2',(data)=>{\n    //   this.data2=data,\n    //   storage.setItem('mydata', JSON.stringify(this.data2));\n    // })\n    // bus.$on('name',(data)=>{\n    //   this.name=data\n    //   storage.setItem('name',this.name)\n    // })\n    // bus.$on('ID',(data)=>{\n    //   console.log('收到了',data)\n    //   this.getid(data)\n    // })\n    // bus.$on('menu',(data)=>{\n    //   this.menuname=data\n    //   storage.setItem('menu',this.menuname)\n    // })\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AAEA;EACAA,iBADA;EAEAC,IAFA,kBAEA;IACA;MACAC,SADA;MAEAC,QAFA;MAGAC,SAHA;MAIAC,QAJA;MAKAC,aALA;MAMAN,QANA;MAOAO,YAPA;MAQAC,aARA;MASAC,UATA;MAUAC;IAVA;EAYA,CAfA;EAgBAC,cAhBA;EAiBAC;IACA;IACAC;MAAA;;MACA;MACAC;QACAC;QACA;QACA;MACA,CAJA;MAKAA;MACA;IACA;EAXA,CAjBA;EA8BAC;IACAC,KADA,iBACAC,GADA,EACAC,GADA,EACA;MAAA;;MACAC;QACAL;QACA;QACA;;QACA;UACAD;UACAA;QACA,CAHA;MAIA,CARA;MASA;MACA;MACA;QACAA;QACAA;MACA,CAHA;IAIA,CAjBA;IAkBA;IACA;IACA;IACA;IACA;IACA;IACA;IACAO,mBAzBA,+BAyBAH,GAzBA,EAyBA;MAAA;;MACA;MACAH;MACAK,MACA,2CACA,WADA,GAEA,eAFA,GAGA,YAJA,EAKAE,IALA,CAKA;QACAP;QACA;MACA,CARA;IASA;EArCA,CA9BA;EAqEAQ,OArEA,qBAqEA;IAAA;;IACA;IACAT;MACAC;MACA;MACA;IACA,CAJA,EAFA,CAQA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;AAhGA","names":["name","data","data2","note","fileid","curid","tableData","menuname","totalcount","curpage","menuId","components","watch","$route","bus","console","methods","getid","val","nam","axios","handleCurrentChange","then","mounted"],"sourceRoot":"src/components","sources":["my-center.vue"],"sourcesContent":["<template>\n  <div :span=\"12\" width=\"380px\" class=\"left\">\n    <div id=\"d1\">\n      <h4>{{ name }}</h4>\n      <el-menu\n        :default-active=\"$route.path\"\n        mode=\"horizontal\"\n        class=\"el-menu-vertical-demo\"\n        :router=\"true\"\n      >\n        <el-menu-item\n          v-for=\"(p, i) in data2\"\n          :key=\"i\"\n          :index=\"'/center/note?Id=' + p.id + '&&pId=' + p.parentCid\"\n          @click=\"getid(p.id, p.menuName)\"\n        >\n          <i class=\"el-icon-location\"></i>\n          <span slot=\"title\">{{ p.menuName }}</span>\n        </el-menu-item>\n      </el-menu>\n    </div>\n    <router-view />\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { bus } from \"@/bus\";\n\nexport default {\n  name: \"my-center\",\n  data() {\n    return {\n      data2: [],\n      note: [],\n      fileid: 1,\n      curid: 1,\n      tableData: [],\n      name: \"\",\n      menuname: \"\",\n      totalcount: 1,\n      curpage: 1,\n      menuId: 0,\n    };\n  },\n  components: {},\n  watch: {\n    // 利用watch方法检测路由变化：\n    $route: function (to) {\n      // 拿到目标参数 to.query.id 去再次请求数据接口\n      bus.$on(\"menu\", (data) => {\n        console.log(\"fdsa\" + data[to.query.pId]);\n        this.name = 123;\n        this.data2 = data[to.query.pId];\n      });\n      console.log(\"dsafasdfgsafdsa\");\n      this.getid(to.query.Id);\n    },\n  },\n  methods: {\n    getid(val, nam) {\n      axios.get(\"http://cybwmy.top:8082/menu/blogs/\" + val).then((res) => {\n        console.log(res);\n        this.tableData = res.data.object.object;\n        this.totalcount = res.data.object.totalCount;\n        this.$nextTick(function () {\n          bus.$emit(\"table\", this.tableData);\n          bus.$emit(\"total\", this.totalcount);\n        });\n      });\n      this.menuname = nam;\n      this.menuId = val;\n      this.$nextTick(function () {\n        bus.$emit(\"menuname\", this.menuname);\n        bus.$emit(\"menuId\", this.menuId);\n      });\n    },\n    // gettext(id){\n    //     axios({\n    //     url:'http://cyb.gz2vip.91tunnel.com/blog/get/'+id,\n    //     }).then(res=>{\n    //         console.log(res)\n    //     })\n    // },\n    handleCurrentChange(val) {\n      this.curpage = val;\n      console.log(this.curpage);\n      axios(\n        \"http://cybwmy.top:8082.com/menu/blogs/\" +\n          this.menuId +\n          \"?currentPage=\" +\n          this.curpage\n      ).then((res) => {\n        console.log(res);\n        this.tableData = res.data.object.object;\n      });\n    },\n  },\n  mounted() {\n    this.getid(this.$route.query.Id);\n    bus.$on(\"menu\", (data) => {\n      console.log(\"fdsa\" + data);\n      this.name = 123;\n      this.data2 = data[this.$route.query.pId];\n    });\n\n    //var storage = window.localStorage\n    //this.data2=JSON.parse(storage.getItem('mydata'))\n    //this.name=storage.getItem('name')\n    // bus.$on('data2',(data)=>{\n    //   this.data2=data,\n    //   storage.setItem('mydata', JSON.stringify(this.data2));\n    // })\n    // bus.$on('name',(data)=>{\n    //   this.name=data\n    //   storage.setItem('name',this.name)\n    // })\n    // bus.$on('ID',(data)=>{\n    //   console.log('收到了',data)\n    //   this.getid(data)\n    // })\n    // bus.$on('menu',(data)=>{\n    //   this.menuname=data\n    //   storage.setItem('menu',this.menuname)\n    // })\n  },\n};\n</script>\n\n<style scoped>\n#d1 {\n  width: 200px;\n  margin-right: 0px;\n  height: 650px;\n}\n.left {\n  height: auto;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}