{"ast":null,"code":"import \"core-js/modules/es.json.stringify.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios'; // import {bus} from '@/bus'\n\nexport default {\n  name: 'my-head',\n  data: function data() {\n    return {\n      activeIndex: '/home',\n      activeIndex2: '/home',\n      data1: [],\n      data2: [],\n      data3: [],\n      data4: [],\n      data5: []\n    };\n  },\n  methods: {\n    handleSelect: function handleSelect(key, keyPath) {\n      console.log(key, keyPath);\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    //这里修改了后端逻辑，保证通过一次请求就能获取到所有的菜单\n    axios({\n      url: 'http://cybwmy.top:8082/menu/all'\n    }).then(function (res) {\n      _this.data1 = res.data.object[0].childen;\n      _this.data2 = res.data.object[1].childen;\n      _this.data3 = res.data.object[3].childen;\n      _this.data4 = res.data.object[4].childen;\n      _this.data5 = res.data.object[5].childen;\n      console.log(\"tests\");\n      localStorage.setItem('menuList', JSON.stringify(res.data.object));\n    }); // axios({\n    //   url:'http://cybwmy.top:8082/menu/children/1',\n    // }).then(res=>{\n    //   this.data1=res.data.object\n    // })\n    // axios({\n    //   url:'http://cybwmy.top:8082/menu/children/2',\n    // }).then(res=>{\n    //   this.data2=res.data.object\n    // })\n    // axios({\n    //   url:'http://cybwmy.top:8082/menu/children/4',\n    // }).then(res=>{\n    //   this.data3=res.data.object\n    // })\n    // axios({\n    //   url:'http://cybwmy.top:8082/menu/children/5',\n    // }).then(res=>{\n    //   this.data4=res.data.object\n    // })\n    // axios({\n    //   url:'http://cybwmy.top:8082/menu/children/6',\n    // }).then(res=>{\n    //   this.data5=res.data.object\n    // })\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA,0B,CACA;;AAEA;EACAA,eADA;EAEAC,IAFA,kBAEA;IACA;MACAC,oBADA;MAEAC,qBAFA;MAGAC,SAHA;MAIAC,SAJA;MAKAC,SALA;MAMAC,SANA;MAOAC;IAPA;EASA,CAZA;EAaAC;IACAC,YADA,wBACAC,GADA,EACAC,OADA,EACA;MACAC;IACA;EAHA,CAbA;EAkBAC,OAlBA,qBAkBA;IAAA;;IACA;IACAC;MACAC;IADA,GAEAC,IAFA,CAEA;MACA;MACA;MACA;MACA;MACA;MACAJ;MACAK;IACA,CAVA,EAFA,CAaA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;AAzDA","names":["name","data","activeIndex","activeIndex2","data1","data2","data3","data4","data5","methods","handleSelect","key","keyPath","console","created","axios","url","then","localStorage"],"sourceRoot":"src/components","sources":["my-head.vue"],"sourcesContent":["<template>\n    <div>\n        <div class=\"header\">\n        <h1>陕西省植物病理学会</h1>\n        <p>Shaanxi Provincial Society for Plant Pathology</p>\n        </div>\n        <div class=\"menu\">\n        <el-menu \n        :default-active=\"$route.path\"\n         class=\"el-menu-demo\" \n         mode=\"horizontal\"\n         @select=\"handleSelect\" \n         text-color=\"#fff\"\n         background-color=\"rgb(86, 117, 86)\"\n         :router='true'>\n        <el-menu-item index=\"/home\">首页</el-menu-item>\n        <el-submenu index=\"/xhgk\">\n      \n        <template slot=\"title\">学会概况</template>\n          <el-menu-item v-for=\"(p,i) in data1\" :key=\"i\" :index=\"'/'+p.id+'/content'\" >{{p.menuName}}</el-menu-item>\n          \n          <!-- 这些地方直接跳转改变路径，就不需要触发一些方法了 -->\n          <!-- @click=\"getid2(p.id,data2,'学会动态',p.menuName)\" -->\n        </el-submenu>\n        <el-submenu index=\"/xhdt\">\n        <template slot=\"title\">学会动态</template>\n          <el-menu-item v-for=\"(p,i) in data2\" :key=\"i\" :index=\"'/center/note?Id='+p.id+'&pId='+p.parentCid\" >{{p.menuName}}</el-menu-item>\n          <!-- @click=\"getid2(p.id,data2,'学会动态',p.menuName)\" -->\n        </el-submenu>\n        <el-menu-item index=\"/xsjl\">学术交流</el-menu-item>\n        <el-submenu index=\"/kjfw\">\n        <template slot=\"title\">科技服务</template>\n          <el-menu-item v-for=\"(p,i) in data3\" :key=\"i\" :index=\"'/center/note?Id='+p.id+'&pId='+p.parentCid\">{{p.menuName}}</el-menu-item>\n           <!-- @click=\"getid2(p.id,data3,'科技服务',p.menuName)\" -->\n        </el-submenu>\n        <el-submenu index=\"/kxpj\">\n        <template slot=\"title\">科学普及</template>\n          <el-menu-item v-for=\"(p,i) in data4\" :key=\"i\" :index=\"'/center/note?Id='+p.id+'&pId='+p.parentCid\" >{{p.menuName}}</el-menu-item>\n          <!-- @click=\"getid2(p.id,data4,'科学普及',p.menuName)\" -->\n        </el-submenu>\n        <el-submenu index=\"/bhfk\">\n        <template slot=\"title\">病害防控</template>\n          <el-menu-item v-for=\"(p,i) in data5\" :key=\"i\" :index=\"'/center/note?Id='+p.id+'&pId='+p.parentCid\" >{{p.menuName}}</el-menu-item>\n          <!-- @click=\"getid2(p.id,data5,'病害防控',p.menuName)\" -->\n        </el-submenu>\n        <el-menu-item index=\"/xhdj\">学会党建</el-menu-item>\n        <el-menu-item index=\"/lxwm\">联系我们</el-menu-item>\n  <!-- <el-menu-item index=\"4\"><a href=\"https://www.ele.me\" target=\"_blank\">订单管理</a></el-menu-item> -->\n</el-menu>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\n// import {bus} from '@/bus'\n\nexport default {\n    name:'my-head',\n    data() {\n      return {\n        activeIndex: '/home',\n        activeIndex2: '/home',\n        data1:[],\n        data2:[],\n        data3:[],\n        data4:[],\n        data5:[],\n      };\n    },\n    methods: {\n      handleSelect(key, keyPath) {\n        console.log(key, keyPath);\n      },\n    },\n    created(){\n      //这里修改了后端逻辑，保证通过一次请求就能获取到所有的菜单\n      axios({\n        url:'http://cybwmy.top:8082/menu/all',\n      }).then(res=>{\n        this.data1 = res.data.object[0].childen;\n        this.data2 = res.data.object[1].childen;\n        this.data3 = res.data.object[3].childen;\n        this.data4 = res.data.object[4].childen;\n        this.data5 = res.data.object[5].childen;  \n        console.log(\"tests\");\n        localStorage.setItem('menuList', JSON.stringify(res.data.object));\n      })\n      // axios({\n      //   url:'http://cybwmy.top:8082/menu/children/1',\n      // }).then(res=>{\n      //   this.data1=res.data.object\n    \n      // })\n      // axios({\n      //   url:'http://cybwmy.top:8082/menu/children/2',\n      // }).then(res=>{\n      //   this.data2=res.data.object\n      // })\n      // axios({\n      //   url:'http://cybwmy.top:8082/menu/children/4',\n      // }).then(res=>{\n      //   this.data3=res.data.object\n      // })\n      // axios({\n      //   url:'http://cybwmy.top:8082/menu/children/5',\n      // }).then(res=>{\n      //   this.data4=res.data.object\n      // })\n      // axios({\n      //   url:'http://cybwmy.top:8082/menu/children/6',\n      // }).then(res=>{\n      //   this.data5=res.data.object\n      // })\n    }\n\n}\n\n</script>\n\n<style>\nh1 {\n\tcolor: darkolivegreen;\n\tmargin: 0px 50px;\n}\n.header {\n\tpadding:20px;\n}\np {\n\tmargin: 0px 50px;\n}\n.menu{\n    padding: 0px,0px,0px,30px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}