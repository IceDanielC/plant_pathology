{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\"; // import { bus } from \"@/bus\";\n\nexport default {\n  name: \"my-note\",\n  data: function data() {\n    return {\n      menuname: \"\",\n      tableData: [],\n      totalcount: 1,\n      curpage: 1,\n      menuId: 0,\n      title: \"\"\n    };\n  },\n  computed: {},\n  methods: {\n    getid: function getid(val, nam) {\n      var _this = this;\n\n      axios.get(\"http://cybwmy.top:8082/menu/blogs/\" + val).then(function (res) {\n        console.log(res);\n        _this.tableData = res.data.object.object;\n        _this.totalcount = res.data.object.totalCount; // this.$nextTick(function () {\n        //   bus.$emit(\"table\", this.tableData);\n        //   bus.$emit(\"total\", this.totalcount);\n        // });\n      });\n      this.menuname = nam;\n      this.menuId = val;\n    },\n    gettext: function gettext(id) {\n      // axios({\n      // url:'http://cyb.gz2vip.91tunnel.com/blog/detail/'+id,\n      // }).then(res=>{\n      //     this.data=res.data.object\n      // })\n      this.$router.push({\n        path: \"/center/note?id=\" + 1 + \"pid=\" + 2 + \"textid=\" + id\n      }); // this.$nextTick(()=>{\n      // bus.$emit('firstid',id)\n      // })\n      //   bus.$emit('textid',id)\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      var _this2 = this;\n\n      this.curpage = val;\n      console.log(this.curpage);\n      axios(\"http://cybwmy.top:8082/menu/blogs/\" + this.menuId + \"?currentPage=\" + this.curpage).then(function (res) {\n        console.log(res);\n        _this2.tableData = res.data.object.object;\n      });\n    }\n  },\n  mounted: function mounted() {\n    var storage = window.localStorage;\n    this.menuname = storage.getItem(\"menu\");\n    this.menuId = storage.getItem(\"menuId\");\n    this.tableData = JSON.parse(storage.getItem(\"tabledata\")); // bus.$on(\"menuname\", (data) => {\n    //   this.menuname = data;\n    //   storage.setItem(\"menu\", this.menuname);\n    // }),\n    //   bus.$on(\"table\", (data) => {\n    //     this.tableData = data;\n    //     storage.setItem(\"tabledata\", JSON.stringify(this.tableData));\n    //   }),\n    //   bus.$on(\"total\", (data) => {\n    //     this.totalcount = data;\n    //   });\n    // bus.$on(\"menuId\", (data) => {\n    //   this.menuId = data;\n    //   console.log(\"menuid改变为:\", this.menuId);\n    //   storage.setItem(\"menuId\", this.menuId);\n    // });\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAyBA,0B,CACA;;AAEA;EACAA,eADA;EAEAC,IAFA,kBAEA;IACA;MACAC,YADA;MAEAC,aAFA;MAGAC,aAHA;MAIAC,UAJA;MAKAC,SALA;MAMAC;IANA;EAQA,CAXA;EAYAC,YAZA;EAaAC;IACAC,KADA,iBACAC,GADA,EACAC,GADA,EACA;MAAA;;MACAC;QACAC;QACA;QACA,8CAHA,CAIA;QACA;QACA;QACA;MACA,CARA;MASA;MACA;IACA,CAbA;IAeAC,OAfA,mBAeAC,EAfA,EAeA;MACA;MACA;MACA;MACA;MACA;MACA;QACAC;MADA,GANA,CAUA;MACA;MACA;MACA;IACA,CA7BA;IA8BAC,mBA9BA,+BA8BAP,GA9BA,EA8BA;MAAA;;MACA;MACAG;MACAD,MACA,uCACA,WADA,GAEA,eAFA,GAGA,YAJA,EAKAM,IALA,CAKA;QACAL;QACA;MACA,CARA;IASA;EA1CA,CAbA;EAyDAM,OAzDA,qBAyDA;IACA;IACA;IACA;IACA,0DAJA,CAMA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;AA/EA","names":["name","data","menuname","tableData","totalcount","curpage","menuId","title","computed","methods","getid","val","nam","axios","console","gettext","id","path","handleCurrentChange","then","mounted"],"sourceRoot":"src/components/commons","sources":["note.vue"],"sourcesContent":["<template>\n  <div class=\"right\">\n    <el-table :data=\"tableData\" stripe style=\"width: 100%\">\n      <el-table-column prop=\"notice\" :label=\"menuname\" width=\"900\">\n        <template slot-scope=\"scope\">\n          <a target=\"_self\" class=\"buttonText\" @click=\"gettext(scope.row.id)\">{{\n            scope.row.title\n          }}</a>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"block\">\n      <el-pagination\n        layout=\"prev, pager, next\"\n        :size=\"3\"\n        :total=\"totalcount\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"curpage\"\n      >\n      </el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n// import { bus } from \"@/bus\";\n\nexport default {\n  name: \"my-note\",\n  data() {\n    return {\n      menuname: \"\",\n      tableData: [],\n      totalcount: 1,\n      curpage: 1,\n      menuId: 0,\n      title: \"\",\n    };\n  },\n  computed: {},\n  methods: {\n    getid(val, nam) {\n      axios.get(\"http://cybwmy.top:8082/menu/blogs/\" + val).then((res) => {\n        console.log(res);\n        this.tableData = res.data.object.object;\n        this.totalcount = res.data.object.totalCount;\n        // this.$nextTick(function () {\n        //   bus.$emit(\"table\", this.tableData);\n        //   bus.$emit(\"total\", this.totalcount);\n        // });\n      });\n      this.menuname = nam;\n      this.menuId = val;\n    },\n\n    gettext(id) {\n      // axios({\n      // url:'http://cyb.gz2vip.91tunnel.com/blog/detail/'+id,\n      // }).then(res=>{\n      //     this.data=res.data.object\n      // })\n      this.$router.push({\n        path: \"/center/note?id=\" + 1 + \"pid=\" + 2 + \"textid=\" + id,\n      });\n\n      // this.$nextTick(()=>{\n      // bus.$emit('firstid',id)\n      // })\n      //   bus.$emit('textid',id)\n    },\n    handleCurrentChange(val) {\n      this.curpage = val;\n      console.log(this.curpage);\n      axios(\n        \"http://cybwmy.top:8082/menu/blogs/\" +\n          this.menuId +\n          \"?currentPage=\" +\n          this.curpage\n      ).then((res) => {\n        console.log(res);\n        this.tableData = res.data.object.object;\n      });\n    },\n  },\n  mounted() {\n    var storage = window.localStorage;\n    this.menuname = storage.getItem(\"menu\");\n    this.menuId = storage.getItem(\"menuId\");\n    this.tableData = JSON.parse(storage.getItem(\"tabledata\"));\n\n    // bus.$on(\"menuname\", (data) => {\n    //   this.menuname = data;\n    //   storage.setItem(\"menu\", this.menuname);\n    // }),\n    //   bus.$on(\"table\", (data) => {\n    //     this.tableData = data;\n    //     storage.setItem(\"tabledata\", JSON.stringify(this.tableData));\n    //   }),\n    //   bus.$on(\"total\", (data) => {\n    //     this.totalcount = data;\n    //   });\n    // bus.$on(\"menuId\", (data) => {\n    //   this.menuId = data;\n    //   console.log(\"menuid改变为:\", this.menuId);\n    //   storage.setItem(\"menuId\", this.menuId);\n    // });\n  },\n};\n</script>\n\n<style></style>\n"]},"metadata":{},"sourceType":"module"}